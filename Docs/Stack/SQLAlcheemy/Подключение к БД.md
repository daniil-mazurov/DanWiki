>[!important] imports
>```python
>from sqlalchemy.ext.asyncio import create_async_engine
>from sqlalchemy import create_engine, text
>```
# engine
#### create_engine(), create_async_engine()
- **url**=settings.DATABASE_URL,
- **echo**=True, # Логирование всех выполняемых операций
- **pool_size**=5, # Максимальное количество подключений к базе
- **max_overflow**=10, # Количество дополнительных подключений при переполнении
 Создание движка для подключения к базе
^24ea83
#### connect()
- Реализация подключения ^5c1d38
```python
with engine.connect() as conn:
	res = conn.execute(text("SELECT VERSION()"))
```
- Асинхронно
```python
async def async_connect():
	async with async_engine.connect() as conn:
		res = await conn.execute(text("SELECT 1,2,3"))
```
##### res.first(), res.all()
- first()
	Вывод первой строки полученных данных
- all()
	Вывод списка всех строк
Оба метода получают и обрабатывают все данные, отличается лишь вывод
##### text()
- Обертка для текстового SQL запроса
#### begin()
- Реализация подключения (Аналог сonnect, однако неявно выполняется commit)
```python
with engine.connect() as conn:
	res = conn.execute(text("SELECT VERSION()"))
```
#### conn.commit()
	Внесение изменений инициированных в транзакции в базу данных
# session
>[!important] imports
>```python
>from sqlalchemy.orm import Session, sessionmaker
>from sqlalchemy.ext.asyncio import AsyncSession, async_sessionmaker
>```

Session - инструмент для создания транзакции и выполнения группы запросов, с последующим COMMIT или ROLLBACK

## sessionmaker(engine), async_sessionmaker(async_engine)
- Фабрика сессий, задающая постоянные параметры (например, engine).
Фабрика используется вместо engine для подключения к базе( [[Подключение к БД#^5c1d38]])
