---
tags: []
---
### **Создание нового проекта (Создает папку)**
```
poetry new new_project
```
### **Активация виртуального окружения**
Poetry автоматически создает и управляет виртуальными окружениями для каждого проекта. Чтобы активировать виртуальное окружение для текущего проекта, используйте команду:
```
poetry shell
```
Показ всех виртуальных окружений:
```
poetry env list
```
Выбрать конкретную версию Python:
```
poetry env use python3.x
```
Выполнение скрипта может осуществляться без активации виртуального окружения:
```
poetry -C path/to/proj/dir run python path/script.py
```
### **Инициализация проекта (в имеющихся файлах)**
```
poetry init
```
- **name**: имя проекта
- **description**: описание проекта
- **author**: имя автора
- **python**: совместимые версии Python
- **dependency**: требуемый пакет с версией пакета
- **dev-dependency**: требования к разработке

После чего в проекте появится файл pyproject.toml, в котором вручную можно изменить любые данные.
### **Установка зависимостей (разворачивание проекта)**
```
poetry install
```
- **remove-untracked**: удалит старые пакеты, которые больше не используются в проекте
- **no-dev**: dev пакеты не будут устанавливаться

Poetry считывает данные из pyproject.toml, строит дерево зависимостей проекта, разрешая проблемы с версиями зависимостей, и устанавливает все пакеты.
Эта команда устанавливает все зависимости в окружение в директорию `.venv` внутри проекта. Активируется окружение командой `poetry shell`, а завершается командой `exit`
### **Обновление версий зависимостей (тем самым обновив файл poetry.lock)** 
```
poetry update
```
- **no-dev** : игнорирует обновление dev пакетов
- **lock** : не устанавливает и не обновляет пакеты, а только обновляет файл poetry.lock
### **Добавление новой библиотеки**
```
poetry add lib_name
```
- **dev** (-D): установит пакет в качестве dev зависимости
- **path**: путь к пакету (если пакет лежит локально)
- **lock** : не устанавливает зависимости, а только обновляет файл poetry.lock

Можно указывать версию пакета:
```
 poetry add "pygame>=2" 
 poetry add pygame@^2
```
### Удаление зависимости
```
poetry remove lib_name
```
### Просмотр зависимостей
```
poetry show
```
- **tree** (-t): список зависимостей в виде дерева
- **top-level** (-T): только верхнеуровневые пакеты
- **latest** (-l): показать последние версии проектов
- **outdated** (-o): показать последние версии только для устаревших пакетов
### Сборка проекта для перемещения
```
poetry build
poetry export -f requirements.txt --output dist/requirements.txt
poetry run pip download -r dist/requirements.txt -d dist/wheels
```
